<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<div class="backgroundColor container">

  <div id="cardContainer" class="container"></div>
  <mat-card id="registerCard">
    <mat-card-header>
      <!-- <span class="fill-space"></span> -->
      <div class="headerImage">
        <img src="/assets/brandNoBackground.png" class="img-size centerImage">
      </div>
    </mat-card-header>

    <mat-horizontal-stepper #stepper [linear]="isLinear">
      <mat-step [stepControl]="firstFormGroup">
        <form [formGroup]="firstFormGroup">
          <ng-template matStepLabel>Usuario</ng-template>
          <mat-form-field>
            <input matInput autofocus placeholder="Nombre de Usuario" formControlName="userName" >
          </mat-form-field>
          <div>
            <label>Foto de Perfil</label>
            <br>
            <div class="headerImage">
              <div style="width: 100%">
                <img id="userPicture" class="profilePictures centerImage" />
              </div>
              <button type="button" mat-raised-button (click)="profileImgFileInput.click()">Añade una foto</button>
              <input hidden type="file" #profileImgFileInput onchange="document.getElementById('userPicture').src = window.URL.createObjectURL(this.files[0])">
            </div>
            <br>
          </div>
          <mat-form-field class="full-length">
            <input matInput placeholder="Mail" formControlName="userMail" type="email">
          </mat-form-field>
          <br>
          <mat-form-field>
            <input matInput placeholder="Telefono Personal" formControlName="userPhone">
          </mat-form-field>
          <mat-toolbar>
            <mat-toolbar-row style="background-color: white">
              <span class="fill-space"></span>
              <button mat-button mat-raised-button class="nextButton" (click)="checkUserName(firstFormGroup.value, stepper)">
                <i class="material-icons">navigate_next</i>
              </button>
            </mat-toolbar-row>
          </mat-toolbar>
        </form>
      </mat-step>
      <mat-step [stepControl]="secondFormGroup">
        <form [formGroup]="secondFormGroup">
          <ng-template matStepLabel>Tienda</ng-template>

          <mat-form-field >
            <input matInput placeholder="Nombre de Tienda" formControlName="storeName" id='storeName' required >
          </mat-form-field>

          <div>
            <label>Foto de Tienda</label>
            <br>            
            <button type="button" mat-raised-button (click)="shopImgFileInput.click()">Añade una foto</button>
            <input hidden type="file" #shopImgFileInput onchange="document.getElementById('storePicture').src = window.URL.createObjectURL(this.files[0])">
            <img id="storePicture" src="../../../../assets/brandNoBackground.png" class="profilePictures" />
          </div>
          <div class="full-length">
            <mat-form-field class="full-length">
              <textarea matInput placeholder="Descripción" formControlName="storeDescription" type="text"></textarea>
            </mat-form-field>
          </div>

          <!-- <mat-form-field>
            <input matInput placeholder="Horarios de atención" formControlName="attendanceHours">
          </mat-form-field> -->
          <mat-form-field>
            <input matInput placeholder="Provincias" formControlName="storeProvince">
          </mat-form-field>

          <div class="row">
            <mat-form-field class="inline-row" id="storeAddress">
              <input matInput placeholder="Dirección" formControlName="storeAddress">
            </mat-form-field>

            <mat-form-field class="inline-row" id="storeAddressNumber">
              <input matInput placeholder="N°" formControlName="storeAddressNumber" type="number">
            </mat-form-field>

            <mat-form-field class="inline-row" id="storeFloor">
              <input matInput placeholder="Piso" formControlName="storeFloor">
            </mat-form-field>
          </div>



          <mat-toolbar>
            <mat-toolbar-row style="background-color: white">
              <button mat-button matStepperPrevious mat-raised-button class="nextButton">
                <i class="material-icons">navigate_before</i>
              </button>
              <span class="fill-space"></span>
              <button mat-button matStepperNext mat-raised-button class="nextButton" (click)="checkStoreName(secondFormGroup.value, stepper)">
                <i class="material-icons">navigate_next</i>
              </button>
            </mat-toolbar-row>
          </mat-toolbar>
        </form>
      </mat-step>
      <mat-step [stepControl]="thirdFormGroup">
        <form [formGroup]="thirdFormGroup">
          <ng-template matStepLabel>Contacto</ng-template>

          <mat-form-field class="full-length">
            <input matInput placeholder="Teléfono de Tienda" formControlName="storePhone" id="storePhone">
          </mat-form-field>

          <mat-form-field class="full-length">
            <input matInput placeholder="Mail" formControlName="storeMail" type="email">
          </mat-form-field>

          <mat-toolbar>
            <mat-toolbar-row style="background-color: white">
              <button mat-button matStepperPrevious mat-raised-button class="nextButton">
                <i class="material-icons">navigate_before</i>
              </button>
              <span class="fill-space"></span>
              <button mat-button matStepperNext mat-raised-button class="nextButton" (click)="tryRegister(firstFormGroup.value, secondFormGroup.value, thirdFormGroup.value)">
                <i class="material-icons">done</i>
              </button>
            </mat-toolbar-row>
          </mat-toolbar>
        </form>
      </mat-step>

    </mat-horizontal-stepper>
  </mat-card>
</div>